<!DOCTYPE HTML>
<html>

<head>
  <meta charset="UTF-8">
  <title>Event loop</title>
  <script type="text/javascript" src="main.js"></script>
  <link rel="stylesheet" href="compiled.css">
  <link rel="icon" type="image/svg+xml" href="/event-loop/static/favicon.svg">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>

<body>
    <div id="elm-app"></div>
</body>

<script type="text/javascript">
// Start the Elm application.
const app = Elm.Main.init({
    node: document.getElementById('elm-app')
});

function genId() {
  const arr = crypto.getRandomValues(new Uint32Array(2));
  return Array.from(arr).map((num) => num.toString(16)).join('');
}

app.ports.getNewEventData.subscribe(
  () => app.ports.uuidAndTime.send({ uuid: genId(), time: Date.now() })
);
</script>


</html>
